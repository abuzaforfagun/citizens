import * as tslib_1 from "tslib";
import { createBroker } from 'broker-factory';
export const wrap = createBroker({
    allocate: ({ call }) => {
        return (length) => tslib_1.__awaiter(this, void 0, void 0, function* () {
            return call('allocate', { length });
        });
    },
    deallocate: ({ notify }) => {
        return (arrayBuffer) => {
            notify('deallocate', { arrayBuffer }, [arrayBuffer]);
        };
    }
});
export const load = (url) => {
    const worker = new Worker(url);
    return wrap(worker);
};
//# sourceMappingURL=/build/es2015/module.js.map