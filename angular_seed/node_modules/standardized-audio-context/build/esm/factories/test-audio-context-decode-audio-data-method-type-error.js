/**
 * Edge up to version 14, Firefox up to version 52, Safari up to version 9 and maybe other browsers
 * did not refuse to decode invalid parameters with a TypeError.
 */
export var createTestAudioContextDecodeAudioDataMethodTypeErrorSupport = function (nativeOfflineAudioContextConstructor) {
    return function () {
        if (nativeOfflineAudioContextConstructor === null) {
            return Promise.resolve(false);
        }
        var offlineAudioContext = new nativeOfflineAudioContextConstructor(1, 1, 44100);
        // Bug #21: Safari does not support promises yet.
        return new Promise(function (resolve) {
            offlineAudioContext
                // Bug #1: Safari requires a successCallback.
                .decodeAudioData(null, function () {
                // Ignore the success callback.
            }, function (err) {
                offlineAudioContext.startRendering();
                resolve(err instanceof TypeError);
            })
                .catch(function () {
                // Ignore errors.
            });
        });
    };
};
//# sourceMappingURL=/build/es2015/factories/test-audio-context-decode-audio-data-method-type-error.js.map