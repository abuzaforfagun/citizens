import { createInvalidStateError } from '../factories/invalid-state-error';
export var wrapChannelMergerNode = function (nativeContext, channelMergerNode) {
    var audioBufferSourceNode = nativeContext.createBufferSource();
    channelMergerNode.channelCount = 1;
    channelMergerNode.channelCountMode = 'explicit';
    // Bug #20: Safari requires a connection of any kind to treat the input signal correctly.
    var length = channelMergerNode.numberOfInputs;
    for (var i = 0; i < length; i += 1) {
        audioBufferSourceNode.connect(channelMergerNode, 0, i);
    }
    Object.defineProperty(channelMergerNode, 'channelCount', {
        get: function () { return 1; },
        set: function () {
            throw createInvalidStateError();
        }
    });
    Object.defineProperty(channelMergerNode, 'channelCountMode', {
        get: function () { return 'explicit'; },
        set: function () {
            throw createInvalidStateError();
        }
    });
};
//# sourceMappingURL=/build/es2015/wrappers/channel-merger-node.js.map